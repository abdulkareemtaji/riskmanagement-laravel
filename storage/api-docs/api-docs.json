{
    "openapi": "3.0.0",
    "info": {
        "title": "Risk Management API",
        "description": "RESTful API for Risk Management System",
        "contact": {
            "email": "admin@riskmanagement.com"
        },
        "version": "1.0.0"
    },
    "paths": {
        "/api/v1/auth/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Register a new user",
                "operationId": "fb835c97347e657e2a627790c4c5817a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    },
                                    "department": {
                                        "type": "string",
                                        "example": "IT"
                                    },
                                    "position": {
                                        "type": "string",
                                        "example": "Manager"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User registered successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "User registered successfully"
                                        },
                                        "user": {
                                            "type": "object"
                                        },
                                        "token": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/v1/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login user",
                "operationId": "fb66b153966d9fac2e999136ef0ade67",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Login successful"
                                        },
                                        "user": {
                                            "type": "object"
                                        },
                                        "token": {
                                            "type": "string"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "bearer"
                                        },
                                        "expires_in": {
                                            "type": "integer",
                                            "example": 3600
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials"
                    }
                }
            }
        },
        "/api/v1/auth/logout": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Logout user",
                "operationId": "307ed0512855922b2280792376bb2095",
                "responses": {
                    "200": {
                        "description": "Successfully logged out",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Successfully logged out"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/auth/refresh": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Refresh JWT token",
                "operationId": "40586da4366a27fa3381f9299144b55f",
                "responses": {
                    "200": {
                        "description": "Token refreshed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "token": {
                                            "type": "string"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "bearer"
                                        },
                                        "expires_in": {
                                            "type": "integer",
                                            "example": 3600
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/auth/me": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get current user profile",
                "operationId": "5389aaa95512ef0b6ec88f262ecee7f0",
                "responses": {
                    "200": {
                        "description": "User profile retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "user": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/mitigation-actions": {
            "get": {
                "tags": [
                    "Mitigation Actions"
                ],
                "summary": "Get list of mitigation actions",
                "operationId": "c8070753f90d40998507f6088a8ca4a6",
                "parameters": [
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter by status",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "planned",
                                "in_progress",
                                "completed",
                                "cancelled"
                            ]
                        }
                    },
                    {
                        "name": "assigned_to",
                        "in": "query",
                        "description": "Filter by assigned user ID",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "overdue",
                        "in": "query",
                        "description": "Filter overdue actions",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Mitigation actions retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Mitigation Actions"
                ],
                "summary": "Create a new mitigation action",
                "operationId": "2b410f454d7b6f1b000b89bcf2897b90",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "risk_id",
                                    "title",
                                    "description",
                                    "assigned_to",
                                    "due_date"
                                ],
                                "properties": {
                                    "risk_id": {
                                        "type": "integer"
                                    },
                                    "title": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "assigned_to": {
                                        "type": "integer"
                                    },
                                    "due_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "priority": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "cost_estimate": {
                                        "type": "number"
                                    },
                                    "notes": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Mitigation action created successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/mitigation-actions/{id}": {
            "get": {
                "tags": [
                    "Mitigation Actions"
                ],
                "summary": "Get a specific mitigation action",
                "operationId": "4f1f7869b9adfbeadb167b954db0a01c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Mitigation action retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Mitigation Actions"
                ],
                "summary": "Update a mitigation action",
                "operationId": "121d587ddc9c2970f9b89121a57ded05",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "status": {
                                        "type": "string"
                                    },
                                    "assigned_to": {
                                        "type": "integer"
                                    },
                                    "due_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "priority": {
                                        "type": "integer"
                                    },
                                    "cost_estimate": {
                                        "type": "number"
                                    },
                                    "notes": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Mitigation action updated successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Mitigation Actions"
                ],
                "summary": "Delete a mitigation action",
                "operationId": "c23b28cf0786703285468e1de28e5220",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Mitigation action deleted successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/risks/{risk}/mitigation-actions": {
            "get": {
                "tags": [
                    "Mitigation Actions"
                ],
                "summary": "Get mitigation actions for a specific risk",
                "operationId": "c61ebe374ea278b57826508ea8f12215",
                "parameters": [
                    {
                        "name": "risk",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Mitigation actions for risk retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reports/dashboard": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get dashboard summary data",
                "operationId": "57f39aecded089a4dccaa4a7475929c8",
                "responses": {
                    "200": {
                        "description": "Dashboard data retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reports/risk-summary": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get risk summary statistics",
                "operationId": "db025d23047c715b0ee662d3927b98c8",
                "responses": {
                    "200": {
                        "description": "Risk summary retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reports/risk-matrix": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get risk matrix data for visualization",
                "operationId": "e93efc0fdb7f7d769e17f79d2d36e617",
                "responses": {
                    "200": {
                        "description": "Risk matrix data retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reports/risks-by-category": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get risks breakdown by category",
                "operationId": "881b8d35c7f68376795ae5efb9140041",
                "responses": {
                    "200": {
                        "description": "Risks by category retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reports/risks-by-department": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get risks breakdown by department",
                "operationId": "bc215d8720c579d7b9bfc000344495e4",
                "responses": {
                    "200": {
                        "description": "Risks by department retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reports/overdue-actions": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get overdue mitigation actions",
                "operationId": "70c5c97b5b5716e532a3ccd3d3dc50e7",
                "responses": {
                    "200": {
                        "description": "Overdue actions retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reports/high-risk-items": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get high risk items requiring attention",
                "operationId": "dd1c68baed01b049ea9dbdb018ab7de4",
                "responses": {
                    "200": {
                        "description": "High risk items retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/risks/{risk}/assessments": {
            "get": {
                "tags": [
                    "Risk Assessments"
                ],
                "summary": "Get assessments for a specific risk",
                "operationId": "8a52c2c835ad50dfa364e1e26c4a227d",
                "parameters": [
                    {
                        "name": "risk",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Risk assessments retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Risk Assessments"
                ],
                "summary": "Create a new risk assessment",
                "operationId": "3acbe85db55f8c8eea93ebdb61d1f83c",
                "parameters": [
                    {
                        "name": "risk",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "likelihood_after",
                                    "impact_after",
                                    "assessment_date"
                                ],
                                "properties": {
                                    "likelihood_before": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "impact_before": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "likelihood_after": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "impact_after": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "assessment_notes": {
                                        "type": "string"
                                    },
                                    "assessment_date": {
                                        "type": "string",
                                        "format": "date"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Risk assessment created successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/risk-assessments/{id}": {
            "get": {
                "tags": [
                    "Risk Assessments"
                ],
                "summary": "Get a specific risk assessment",
                "operationId": "f005d083ba07c43d50e0ac794f4bbb43",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Risk assessment retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Risk Assessments"
                ],
                "summary": "Update a risk assessment",
                "operationId": "5d6131c378c1d6a9efa259e1b01a2f1f",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "likelihood_before": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "impact_before": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "likelihood_after": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "impact_after": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "assessment_notes": {
                                        "type": "string"
                                    },
                                    "assessment_date": {
                                        "type": "string",
                                        "format": "date"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Risk assessment updated successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Risk Assessments"
                ],
                "summary": "Delete a risk assessment",
                "operationId": "abce81287a0292b7893f39736343b4c3",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Risk assessment deleted successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/risks": {
            "get": {
                "tags": [
                    "Risks"
                ],
                "summary": "Get list of risks",
                "operationId": "75b3ad0f564289b720871ceba91fbc98",
                "parameters": [
                    {
                        "name": "category",
                        "in": "query",
                        "description": "Filter by category",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "operational",
                                "financial",
                                "compliance",
                                "strategic",
                                "reputational"
                            ]
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter by status",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "identified",
                                "assessed",
                                "mitigating",
                                "closed"
                            ]
                        }
                    },
                    {
                        "name": "risk_level",
                        "in": "query",
                        "description": "Filter by risk level",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "low",
                                "medium",
                                "high"
                            ]
                        }
                    },
                    {
                        "name": "owner_id",
                        "in": "query",
                        "description": "Filter by owner ID",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Items per page",
                        "schema": {
                            "type": "integer",
                            "default": 15
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of risks retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Risks"
                ],
                "summary": "Create a new risk",
                "operationId": "cf66b7dfea2d9f264fe6edd341aa5908",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "title",
                                    "description",
                                    "category",
                                    "likelihood",
                                    "impact",
                                    "identified_date"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "category": {
                                        "type": "string",
                                        "enum": [
                                            "operational",
                                            "financial",
                                            "compliance",
                                            "strategic",
                                            "reputational"
                                        ]
                                    },
                                    "likelihood": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "impact": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "owner_id": {
                                        "type": "integer"
                                    },
                                    "department": {
                                        "type": "string"
                                    },
                                    "identified_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "target_closure_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "notes": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Risk created successfully"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/risks/{id}": {
            "get": {
                "tags": [
                    "Risks"
                ],
                "summary": "Get a specific risk",
                "operationId": "56dddbceb97d90c1d5c58e4891526bcb",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Risk retrieved successfully"
                    },
                    "404": {
                        "description": "Risk not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Risks"
                ],
                "summary": "Update a risk",
                "operationId": "0954cdc72e5078611c3679107e3f8650",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "category": {
                                        "type": "string"
                                    },
                                    "likelihood": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "impact": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1
                                    },
                                    "status": {
                                        "type": "string"
                                    },
                                    "owner_id": {
                                        "type": "integer"
                                    },
                                    "department": {
                                        "type": "string"
                                    },
                                    "target_closure_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "actual_closure_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "notes": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Risk updated successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Risks"
                ],
                "summary": "Delete a risk",
                "operationId": "8c4637b1416c8a9d8ba528e03954ff00",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Risk deleted successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Authentication",
            "description": "Authentication"
        },
        {
            "name": "Mitigation Actions",
            "description": "Mitigation Actions"
        },
        {
            "name": "Reports",
            "description": "Reports"
        },
        {
            "name": "Risk Assessments",
            "description": "Risk Assessments"
        },
        {
            "name": "Risks",
            "description": "Risks"
        }
    ]
}